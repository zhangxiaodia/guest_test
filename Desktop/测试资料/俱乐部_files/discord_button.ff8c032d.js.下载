(window.webpackJsonplizard_service_mindmap=window.webpackJsonplizard_service_mindmap||[]).push([[3],{1353:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(12)),r=d(i(15)),a=d(i(10)),o=d(i(13)),s=d(i(0));function d(e){return e&&e.__esModule?e:{default:e}}var l,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=(l=s.default.Component,(0,o.default)(u,l),(0,r.default)(u,[{key:"render",value:function(){return s.default.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},this.props),s.default.createElement("path",{d:"M6 15H3V4h14v11H9.2L6 18.2V15zm-.5-6.5v2h2v-2h-2zm3.5 0v2h2v-2H9zm3.5 0v2h2v-2h-2z",fill:"#555"}))}}]),u);function u(){return(0,n.default)(this,u),(0,a.default)(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}t.default=c},1354:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(12)),r=d(i(15)),a=d(i(10)),o=d(i(13)),s=d(i(0));function d(e){return e&&e.__esModule?e:{default:e}}var l,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=(l=s.default.Component,(0,o.default)(u,l),(0,r.default)(u,[{key:"render",value:function(){return s.default.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25"},this.props),s.default.createElement("path",{d:"M8.047 17.106a6.462 6.462 0 1 0-1.953-5.124l1.081-.007a5.385 5.385 0 1 1 1.579 4.318l-.707.813z",fill:"#555"}),s.default.createElement("path",{fill:"#555",d:"M6.885 14.615l1.884-3.23H5z"}),s.default.createElement("path",{d:"M12.538 9.303v2.706m1.616 2.068l-1.42-1.867",fill:"none",stroke:"#555",strokeLinecap:"round"}))}}]),u);function u(){return(0,n.default)(this,u),(0,a.default)(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}t.default=c},1591:function(e,t,i){"use strict";i.r(t);var n,l=i(1),r=i(2),s=i.n(r),a=i(32),p=i(42),o=i(1353),d=i.n(o),c=i(1354),u=i.n(c),h=i(0),f=i(5),v=i.n(f),b=i(16),m=i(380),_=(n=h.Component,l.__extends(y,n),y.prototype.componentWillReceiveProps=function(e){var t=e.ready,i=e.sidebarStatus,n=e.editor;t!==this.props.ready&&n&&Object(m.a)(n.discord,this.initDiscord,this),i.discordVisible!==this.props.sidebarStatus.discordVisible&&this.setState({discord_active:i.discordVisible}),i.historyVisible!==this.props.sidebarStatus.historyVisible&&this.setState({history_active:i.historyVisible})},y.prototype.initDiscord=function(e){var n=this;if(e&&!this.isInit&&e){var t=e.constructor;e.on(t.events.SHOW,function(){n.props.showSidebarTab({visible:!0,type:"discordVisible"}),n.setState({discord_active:!0,unreadTooltipShow:!1,unreadCount:0})}),e.on(t.events.HIDE,function(){n.props.showSidebarTab({visible:!1,type:"discordVisible"}),n.setState({discord_active:!1,unreadCount:0})}),e.on(t.events.UNREAD,function(e){var t=Number.parseInt(e,10)||0,i=!0;!n.state.discord_active&&0<t?(window.clearTimeout(n.unreadTimer),n.unreadTimer=window.setTimeout(function(){n.tooltipRef.current&&(n.tooltipRef.current.state.visible=!1),n.setState({unreadTooltipShow:!1})},n.unreadDisplayTime)):i=!1,n.setState({unreadCount:t,unreadTooltipShow:i})}),this.isInit=!0}},y.prototype.render=function(){var e=this.props.disabled,t=this.state,i=t.discord_active,n=t.history_active,r=t.unreadCount,a=t.unreadTooltipShow,o=this.renderHistory(),s=h.createElement(k,{onClick:this.togglePannel,type:"primary",size:"s",active:i||n,disabled:e},o&&!i?h.createElement(P,{width:"30px",height:"30px",disabled:e}):h.createElement(E,{width:"20px",height:"20px",disabled:e}),r&&!e?h.createElement(C,null):null),d={key:"view-tooltip",theme:"default"};return a&&r&&(d={key:"unread-tooltip",theme:"blue",visible:!0}),h.createElement(p.a,l.__assign({},d,{autoAdjustOverflow:null,title:this.renderTooltipTitle(o),placement:"bottom",mouseLeaveDelay:0,arrowPointAtCenter:!0,ref:this.tooltipRef}),s)},y.initState={active:!1,unreadCount:0,unreadTooltipShow:!1},y);function y(e){var d=n.call(this,e)||this;return d.unreadDisplayTime=5e3,d.isInit=!1,d.tooltipRef=null,d.setPanel=function(e,t){var i=d.props,n=i.editor,r=i.file,a=n.sideBarManager,o=n.historySidebar;if(t){if(Object(b.p)(r)&&o&&o.showSidebar(e),a&&a.show("discordpanel",e),d.props.showSidebarTab({visible:!0,type:e+"Visible"}),Object(b.l)(r)&&n.discord){var s=n.discord.constructor;n.discord.emit(s.events.SHOW)}}else if(Object(b.p)(r)&&o&&o.hideSidebar(),a&&a.hide("discordpanel"),Object(b.l)(r)&&n.discord){s=n.discord.constructor;n.discord.emit(s.events.HIDE),d.props.showSidebarTab({visible:!1,type:"sidebarVisible"})}},d.togglePannel=function(){if(d.props.editor){var e=d.renderHistory(),t=!d.state.discord_active,i=!d.state.history_active;d.state.discord_active?(d.setState({discord_active:t}),d.setPanel("discord",!1)):d.state.history_active?(d.setState({history_active:i}),d.setPanel("history",!1)):e?(d.setState({history_active:i}),d.setPanel("history",!0)):(d.setState({discord_active:t}),d.setPanel("discord",!0))}},d.renderTooltipTitle=function(e){var t=d.props.disabled,i=d.state,n=i.discord_active,r=i.history_active,a=i.unreadCount;if(t)return s()("\u5373\u5c06\u4e0a\u7ebf");var o=(/Mac/i.test(window.navigator.platform)?"\u2318":"Ctrl")+"+Shift+"+(e?"L":"D");return h.createElement("div",null,h.createElement("p",null,n?s()("\u5173\u95ed\u8ba8\u8bba"):r?s()("\u5173\u95ed\u5386\u53f2"):s()(S=S||l.__makeTemplateObject(["\u67e5\u770b",""],["\u67e5\u770b",""]),e?s()("\u5386\u53f2"):s()(w=w||l.__makeTemplateObject(["","\u8ba8\u8bba"],["","\u8ba8\u8bba"]),0<a?" "+a+s()(" \u65b0"):""))),h.createElement(V,null,o))},d.renderHistory=function(){var e=d.props.file,t=d.state.unreadCount;return Boolean((Object(b.p)(e.type)||Object(b.e)(e.type))&&!t)},d.state={discord_active:e.sidebarStatus.discordVisible,history_active:e.sidebarStatus.historyVisible,unreadCount:0,unreadTooltipShow:!1},d.tooltipRef=h.createRef(),d}t.default=_;var w,S,g,O,x,T,j,k=v()(a.a)(g=g||l.__makeTemplateObject(["\n  position: relative;\n  margin: 11px 0;\n  width: 38px;\n  min-width: 38px;\n  height: 28px;\n  white-space: nowrap;\n"],["\n  position: relative;\n  margin: 11px 0;\n  width: 38px;\n  min-width: 38px;\n  height: 28px;\n  white-space: nowrap;\n"])),E=v()(d.a)(O=O||l.__makeTemplateObject(["\n  opacity: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  opacity: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]),function(e){return e.disabled?.3:1}),P=v()(u.a)(x=x||l.__makeTemplateObject(["\n  opacity: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  opacity: ",";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]),function(e){return e.disabled?.3:1}),C=v.a.div(T=T||l.__makeTemplateObject(["\n  position: absolute;\n  right: 5px;\n  top: 1px;\n  width: 6px;\n  height: 6px;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  background: #8ab3e9;\n"],["\n  position: absolute;\n  right: 5px;\n  top: 1px;\n  width: 6px;\n  height: 6px;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  background: #8ab3e9;\n"])),V=v.a.p(j=j||l.__makeTemplateObject(["\n  transform: scale(0.83);\n"],["\n  transform: scale(0.83);\n"]))}}]);
//# sourceMappingURL=discord_button.ff8c032d.js.map